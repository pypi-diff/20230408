# Comparing `tmp/siat-1.8.1-py3-none-any.whl.zip` & `tmp/siat-1.8.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 1100547 bytes, number of entries: 112
+Zip file size: 1100674 bytes, number of entries: 112
 -rw-rw-rw-  2.0 fat      840 b- defN 22-Sep-22 03:36 siat/__init__.py
 -rw-rw-rw-  2.0 fat     2130 b- defN 23-Apr-06 11:44 siat/allin.py
 -rw-rw-rw-  2.0 fat      747 b- defN 22-Oct-10 12:00 siat/alpha_vantage_test.py
 -rw-rw-rw-  2.0 fat    28555 b- defN 23-Feb-08 14:21 siat/assets_liquidity.py
 -rw-rw-rw-  2.0 fat     1285 b- defN 21-Nov-29 06:22 siat/assets_liquidity_test.py
 -rw-rw-rw-  2.0 fat    10110 b- defN 21-Nov-09 07:59 siat/barrons_scraping_test.py
 -rw-rw-rw-  2.0 fat    36597 b- defN 22-Oct-30 14:34 siat/beta_adjustment.py
@@ -31,20 +31,20 @@
 -rw-rw-rw-  2.0 fat     2944 b- defN 20-Sep-30 07:04 siat/esg_test.py
 -rw-rw-rw-  2.0 fat    47177 b- defN 22-Nov-15 12:07 siat/fama_french.py
 -rw-rw-rw-  2.0 fat     4678 b- defN 21-Nov-20 07:13 siat/fama_french_test.py
 -rw-rw-rw-  2.0 fat    40695 b- defN 21-May-16 12:48 siat/financial_base.py
 -rw-rw-rw-  2.0 fat    21528 b- defN 21-Jul-18 11:42 siat/financial_statements.py
 -rw-rw-rw-  2.0 fat      716 b- defN 21-May-19 05:32 siat/financial_statements_test.py
 -rw-rw-rw-  2.0 fat    76676 b- defN 22-Nov-27 02:21 siat/financials.py
--rw-rw-rw-  2.0 fat   105288 b- defN 23-Feb-21 01:55 siat/financials_china.py
+-rw-rw-rw-  2.0 fat   105509 b- defN 23-Apr-08 16:27 siat/financials_china.py
 -rw-rw-rw-  2.0 fat    57998 b- defN 23-Feb-27 05:23 siat/financials_china2.py
 -rw-rw-rw-  2.0 fat     2722 b- defN 22-May-23 09:18 siat/financials_china2_test.py
 -rw-rw-rw-  2.0 fat     3507 b- defN 22-May-21 16:15 siat/financials_china2_test2.py
 -rw-rw-rw-  2.0 fat     3118 b- defN 22-May-22 12:59 siat/financials_china2_test3.py
--rw-rw-rw-  2.0 fat    17193 b- defN 22-May-16 16:52 siat/financials_china_test.py
+-rw-rw-rw-  2.0 fat    17549 b- defN 23-Apr-08 16:32 siat/financials_china_test.py
 -rw-rw-rw-  2.0 fat    23829 b- defN 22-Jul-02 16:07 siat/financials_test.py
 -rw-rw-rw-  2.0 fat     1201 b- defN 21-Nov-24 03:16 siat/fred_test.py
 -rw-rw-rw-  2.0 fat    24637 b- defN 20-Oct-19 12:31 siat/fund.py
 -rw-rw-rw-  2.0 fat    66934 b- defN 23-Feb-15 05:50 siat/fund_china.py
 -rw-rw-rw-  2.0 fat     6649 b- defN 22-Apr-14 12:20 siat/fund_china_test.py
 -rw-rw-rw-  2.0 fat     1116 b- defN 20-Oct-19 12:29 siat/fund_test.py
 -rw-rw-rw-  2.0 fat    16442 b- defN 23-Jan-20 15:20 siat/future_china.py
@@ -103,12 +103,12 @@
 -rw-rw-rw-  2.0 fat   118133 b- defN 23-Feb-06 05:45 siat/translate-20230206.py
 -rw-rw-rw-  2.0 fat   121657 b- defN 23-Feb-14 15:59 siat/translate-20230215.py
 -rw-rw-rw-  2.0 fat   124748 b- defN 23-Apr-04 06:59 siat/translate.py
 -rw-rw-rw-  2.0 fat     3936 b- defN 21-Dec-20 12:37 siat/universal_test.py
 -rw-rw-rw-  2.0 fat    51268 b- defN 23-Mar-31 05:22 siat/valuation_china.py
 -rw-rw-rw-  2.0 fat     1571 b- defN 22-Oct-09 14:52 siat/valuation_market_china_test.py
 -rw-rw-rw-  2.0 fat    14859 b- defN 23-Mar-08 12:59 siat/var_model_validation.py
--rw-rw-rw-  2.0 fat     1399 b- defN 23-Apr-08 15:58 siat-1.8.1.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Apr-08 15:58 siat-1.8.1.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        5 b- defN 23-Apr-08 15:58 siat-1.8.1.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     8926 b- defN 23-Apr-08 15:58 siat-1.8.1.dist-info/RECORD
-112 files, 4328143 bytes uncompressed, 1086937 bytes compressed:  74.9%
+-rw-rw-rw-  2.0 fat     1399 b- defN 23-Apr-08 16:33 siat-1.8.2.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Apr-08 16:33 siat-1.8.2.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        5 b- defN 23-Apr-08 16:33 siat-1.8.2.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     8926 b- defN 23-Apr-08 16:33 siat-1.8.2.dist-info/RECORD
+112 files, 4328720 bytes uncompressed, 1087064 bytes compressed:  74.9%
```

## zipnote {}

```diff
@@ -318,20 +318,20 @@
 
 Filename: siat/valuation_market_china_test.py
 Comment: 
 
 Filename: siat/var_model_validation.py
 Comment: 
 
-Filename: siat-1.8.1.dist-info/METADATA
+Filename: siat-1.8.2.dist-info/METADATA
 Comment: 
 
-Filename: siat-1.8.1.dist-info/WHEEL
+Filename: siat-1.8.2.dist-info/WHEEL
 Comment: 
 
-Filename: siat-1.8.1.dist-info/top_level.txt
+Filename: siat-1.8.2.dist-info/top_level.txt
 Comment: 
 
-Filename: siat-1.8.1.dist-info/RECORD
+Filename: siat-1.8.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## siat/financials_china.py

```diff
@@ -357,18 +357,28 @@
     if fsr2 is None:
         print("  #Error(calc_dupont_china): failed to retrieved reports for",ticker)
         return None   
     
     fsr3=fsr2[(fsr2['endDate'] >= start) & (fsr2['endDate'] <= end)]
     
     #字段变换与计算
-    fsr3['ROE']=fsr3['五、净利润']/fsr3['所有者权益(或股东权益)合计']
-    fsr3['Profit Margin']=fsr3['五、净利润']/fsr3['一、营业总收入']
-    fsr3['Total Assets Turnover']=fsr3['一、营业总收入']/fsr3['资产总计']
-    fsr3['Equity Multiplier']=fsr3['资产总计']/fsr3['所有者权益(或股东权益)合计']
+    try:
+        oe='所有者权益(或股东权益)合计'
+        fsr3['ROE']=fsr3['五、净利润']/fsr3[oe]
+    except:
+        oe='所有者权益合计'
+        fsr3['ROE']=fsr3['五、净利润']/fsr3[oe]
+    try:    
+        tor='一、营业总收入'
+        fsr3['Profit Margin']=fsr3['五、净利润']/fsr3[tor]
+    except:
+        tor='一、营业收入'
+        fsr3['Profit Margin']=fsr3['五、净利润']/fsr3[tor]
+    fsr3['Total Assets Turnover']=fsr3[tor]/fsr3['资产总计']
+    fsr3['Equity Multiplier']=fsr3['资产总计']/fsr3[oe]
     
     dpidf=fsr3[['ticker','endDate','ROE','Profit Margin','Total Assets Turnover','Equity Multiplier']]    
     dpidf['pROE']=dpidf['Profit Margin']*dpidf['Total Assets Turnover']*dpidf['Equity Multiplier']
     
     return dpidf
 
 if __name__=='__main__':
```

## siat/financials_china_test.py

```diff
@@ -1,12 +1,26 @@
 # -*- coding: utf-8 -*-
 
 import os; os.chdir("S:/siat")
 from siat import *
 #==============================================================================
+
+tickerlist=['601628.SS','601318.SS','601601.SS','601319.SS','601336.SS']
+
+df=compare_dupont_china(tickers,
+                       fsdate='2022-9-30',
+                       scale1=1,scale2=1,
+                       printout=False,
+                       )
+
+
+
+
+
+#==============================================================================
 fdcstocks=['600383.SS','600048.SS','000002.SZ','600266.SS','600606.SS','000031.SZ']
 df=compare_dupont_china(fdcstocks,fsdate='2021-12-31',scale1 = 10,scale2 = 10)
 
 
 #==============================================================================
 tickers=['600519.SS','000596.SZ','600559.SS','600702.SS','600809.SS','600059.SS',]
 dpi=compare_dupont_china(tickers,fsdate='2021-12-31',scale1 = 10,scale2 = 10)
```

## Comparing `siat-1.8.1.dist-info/METADATA` & `siat-1.8.2.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: siat
-Version: 1.8.1
+Version: 1.8.2
 Summary: Securities Investment Analysis Tools (siat)
 Home-page: https://pypi.org/project/siat/
 Author: Prof. WANG Dehong, Business School, BFSU (北京外国语大学 国际商学院 王德宏 教授)
 Author-email: wdehong2000@163.com
 License: Copyright (C) WANG Dehong, 2023. For educational purpose only!
 Platform: UNKNOWN
 Requires-Dist: pandas-datareader
```

## Comparing `siat-1.8.1.dist-info/RECORD` & `siat-1.8.2.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -30,20 +30,20 @@
 siat/esg_test.py,sha256=Z9m6GUt8O7oHZSEG9aDYpGdvvrv2AiRJdHTiU6jqmZ0,2944
 siat/fama_french.py,sha256=qDpsZOj0BLuzXXdNwJ1IPhDyNVAnTJFHqn80Hkp85ZI,47177
 siat/fama_french_test.py,sha256=M4O23lBKsJxhWHRluwCb3l7HSEn3OFTjzGMpehcevRg,4678
 siat/financial_base.py,sha256=YxNVfhbgLQ4stLojI9nklB4sdQNuROcILcO3M2uz4Gs,40695
 siat/financial_statements.py,sha256=KDUl9b92EV5IseLLnEmG3czDHAaay2SWM2MpzZXPHpk,21528
 siat/financial_statements_test.py,sha256=FLhx8JD-tVVWSBGux6AMz1jioXX4U4bp9DmgFHYXb_w,716
 siat/financials.py,sha256=4b0fJAu1Mm5aX_zCIvF01CzzBokrprQpIk1N3za1FNA,76676
-siat/financials_china.py,sha256=0zNnifjaXqJhZYn6odc4NHhUgNY5rla8cGy9xL9EQ6w,105288
+siat/financials_china.py,sha256=oQcG0m6QqMU2V98WXgqwEV99Ouf7ZGx_tqD9UpMadzs,105509
 siat/financials_china2.py,sha256=32--MBk7PBOSg7DUyxfjN63ZPEkmAsrYfuTHAenOphA,57998
 siat/financials_china2_test.py,sha256=Erz5k4LyOplBBvYls2MypuqHpVNJ3daiLdyeJezNPu0,2722
 siat/financials_china2_test2.py,sha256=C8CuYTMHN4Mhp-sTu-Bmg0zMXRCaYV6ezGDoYartRYQ,3507
 siat/financials_china2_test3.py,sha256=UXYSA80DNSPRhHpovc2MA9JkpILWMAQaRatbWCHBNPs,3118
-siat/financials_china_test.py,sha256=0MzvCOvoA_zrC3RVBMWMk-ZTagOXQdXM3OasqygtHog,17193
+siat/financials_china_test.py,sha256=QS1SD_mXx4uH1Lg3gl2PmwLrvkLqkRs3e4x7SyFI_Xk,17549
 siat/financials_test.py,sha256=HJ3CPo_Xckz2wXi3AEP6ZNWCF1Duc1pLi0Y10USiImc,23829
 siat/fred_test.py,sha256=KF50ssSbsfpa_kT6iuomD0vG4eXztAcOasZxg1OGX5w,1201
 siat/fund.py,sha256=wMDORsCBV8ZXfgwbtq-0bu3qqWY66dHnbqgllW0gWCo,24637
 siat/fund_china.py,sha256=KBVTvzgkjzD_AhxrZntx0p5muPQTL5oXT10_ed6fXnU,66934
 siat/fund_china_test.py,sha256=-Bh6m0J0GPpIbYXx-H2vpzJoNFI6pE2C2jVPa8DazgE,6649
 siat/fund_test.py,sha256=V4ADb8Gsp8gyeFTwcgRsJBpnUih_O-Q2V1ILc5oKjK8,1116
 siat/future_china.py,sha256=s9LgTuy4nFIXgqtZKc71HaZIyFnSmyvxEloGHxlmLZ4,16442
@@ -102,11 +102,11 @@
 siat/translate-20230206.py,sha256=-vtI125WyaJhmPotOpDAmclt_XnYVaWU9ByLWZ6FyYE,118133
 siat/translate-20230215.py,sha256=TJgtPE3n8IjljmZ4Pefy8dmHoNdFF-1zpML6BhA9FKE,121657
 siat/translate.py,sha256=-7-R7pLutkOVur5O0ihj3-_XyoWRF2VAJRorIsiZJVQ,124748
 siat/universal_test.py,sha256=CDAOffW1Rvs-TcNN5giWVvHMlch1w4dp-w5SIV9jXL0,3936
 siat/valuation_china.py,sha256=J78FTnwyzOjNENq30MXaQdby6EtcBZi3AMeUKhGtuok,51268
 siat/valuation_market_china_test.py,sha256=gbJ0ioauuo4koTPH6WKUkqcXiQPafnbhU5eKJ6lpdLA,1571
 siat/var_model_validation.py,sha256=zB_Skk_tmzIR15l6oAW3am4HBGVIG-eZ8gJhCdXZ8Qw,14859
-siat-1.8.1.dist-info/METADATA,sha256=3ZwSg4zG89PsrmfVwG2GAJPoFzbtB8P54RGghPpF7VI,1399
-siat-1.8.1.dist-info/WHEEL,sha256=ewwEueio1C2XeHTvT17n8dZUJgOvyCWCt0WVNLClP9o,92
-siat-1.8.1.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
-siat-1.8.1.dist-info/RECORD,,
+siat-1.8.2.dist-info/METADATA,sha256=U7W2Dip8PtbXg5Ln0l-a1dbZkzYd1Unn6sNmcqxQLS0,1399
+siat-1.8.2.dist-info/WHEEL,sha256=ewwEueio1C2XeHTvT17n8dZUJgOvyCWCt0WVNLClP9o,92
+siat-1.8.2.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
+siat-1.8.2.dist-info/RECORD,,
```

